{"ast":null,"code":"import api from \"../utils/api\";\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\nexport function login(credentials) {\n  // this is our \"thunk\" function. redux-thunk middleware\n  // automatically gives us access to the dispatcher as a parameter\n  return dispatch => {\n    dispatch({\n      type: LOGIN_START\n    });\n    api().post(\"/auth/login\", credentials).then(res => {\n      // enter the \"success\" state\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: res.data\n      });\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"user_id\", res.data.user.id);\n    }).catch(err => {\n      // enter the \"error\" state\n      dispatch({\n        type: LOGIN_ERROR,\n        payload: err\n      });\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/JoseReinoso/lambda/React-Front-End/front-end/src/actions/login.js"],"names":["api","LOGIN_START","LOGIN_SUCCESS","LOGIN_ERROR","login","credentials","dispatch","type","post","then","res","payload","data","localStorage","setItem","token","user","id","catch","err"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB;AAEA,OAAO,MAAMC,WAAW,GAAG,aAApB;AACP,OAAO,MAAMC,aAAa,GAAG,eAAtB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AAGP,OAAO,SAASC,KAAT,CAAeC,WAAf,EAA4B;AACjC;AACA;AACA,SAAOC,QAAQ,IAAI;AACnBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEN;AAAR,KAAD,CAAR;AAEED,IAAAA,GAAG,GACAQ,IADH,CACQ,aADR,EACuBH,WADvB,EAEGI,IAFH,CAEQC,GAAG,IAAI;AACP;AACAJ,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEL,aAAR;AAAuBS,QAAAA,OAAO,EAAED,GAAG,CAACE;AAApC,OAAD,CAAR;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACE,IAAJ,CAASG,KAAvC;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCJ,GAAG,CAACE,IAAJ,CAASI,IAAT,CAAcC,EAA9C;AACD,KAPP,EAQGC,KARH,CAQSC,GAAG,IAAI;AACV;AACAb,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEJ,WAAR;AAAqBQ,QAAAA,OAAO,EAAEQ;AAA9B,OAAD,CAAR;AACH,KAXH;AAYC,GAfH;AAgBD","sourcesContent":["import api from \"../utils/api\";\n\nexport const LOGIN_START = \"LOGIN_START\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\n\n\nexport function login(credentials) {\n  // this is our \"thunk\" function. redux-thunk middleware\n  // automatically gives us access to the dispatcher as a parameter\n  return dispatch => {\n  dispatch({ type: LOGIN_START });\n\n    api()\n      .post(\"/auth/login\", credentials)\n      .then(res => {\n            // enter the \"success\" state\n            dispatch({ type: LOGIN_SUCCESS, payload: res.data })\n            localStorage.setItem(\"token\", res.data.token);\n            localStorage.setItem(\"user_id\", res.data.user.id);\n          })\n      .catch(err => {\n          // enter the \"error\" state\n          dispatch({ type: LOGIN_ERROR, payload: err })\n      })\n    }\n}"]},"metadata":{},"sourceType":"module"}