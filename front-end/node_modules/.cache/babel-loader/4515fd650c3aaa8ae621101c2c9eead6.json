{"ast":null,"code":"import api from \"../utils/api\"; // import axios from \"axios\"\n\nexport const SIGNUP_START = \"SIGNUP_START\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_ERROR = \"SIGNUP_ERROR\";\nexport function signup(credentials) {\n  // this is our \"thunk\" function. redux-thunk middleware\n  // automatically gives us access to the dispatcher as a parameter\n  return dispatch => {\n    // we can kick off as many actions as we want,\n    // whenever we want. allows our action creator to be asyncronous.\n    dispatch({\n      type: SIGNUP_START\n    });\n    api().post(\"https://african-marketplace-bw.herokuapp.com/api/auth/register\", credentials).then(res => {\n      dispatch({\n        type: SIGNUP_SUCCESS,\n        payload: res.data\n      });\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"user_id\", res.data.new_user.id);\n    }).catch(err => {\n      dispatch({\n        type: SIGNUP_ERROR,\n        payload: err.error\n      });\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/JoseReinoso/lambda/React-Front-End/front-end/src/actions/sighup.js"],"names":["api","SIGNUP_START","SIGNUP_SUCCESS","SIGNUP_ERROR","signup","credentials","dispatch","type","post","then","res","payload","data","localStorage","setItem","token","new_user","id","catch","err","error"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,cAAhB,C,CACA;;AAEA,OAAO,MAAMC,YAAY,GAAG,cAArB;AACP,OAAO,MAAMC,cAAc,GAAG,gBAAvB;AACP,OAAO,MAAMC,YAAY,GAAG,cAArB;AAEP,OAAO,SAASC,MAAT,CAAgBC,WAAhB,EAA6B;AAClC;AACA;AACA,SAAOC,QAAQ,IAAI;AACjB;AACA;AACAA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEN;AAAR,KAAD,CAAR;AAEAD,IAAAA,GAAG,GACAQ,IADH,CACQ,gEADR,EAC0EH,WAD1E,EAEGI,IAFH,CAEQC,GAAG,IAAI;AACXJ,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEL,cAAR;AAAwBS,QAAAA,OAAO,EAAED,GAAG,CAACE;AAArC,OAAD,CAAR;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACE,IAAJ,CAASG,KAAvC;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCJ,GAAG,CAACE,IAAJ,CAASI,QAAT,CAAkBC,EAAlD;AACD,KANH,EAOGC,KAPH,CAOSC,GAAG,IAAG;AACXb,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEJ,YAAR;AAAsBQ,QAAAA,OAAO,EAAEQ,GAAG,CAACC;AAAnC,OAAD,CAAR;AACD,KATH;AAUD,GAfD;AAgBD","sourcesContent":["import api from \"../utils/api\"\n// import axios from \"axios\"\n\nexport const SIGNUP_START = \"SIGNUP_START\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_ERROR = \"SIGNUP_ERROR\";\n\nexport function signup(credentials) {\n  // this is our \"thunk\" function. redux-thunk middleware\n  // automatically gives us access to the dispatcher as a parameter\n  return dispatch => {\n    // we can kick off as many actions as we want,\n    // whenever we want. allows our action creator to be asyncronous.\n    dispatch({ type: SIGNUP_START });\n\n    api()\n      .post(\"https://african-marketplace-bw.herokuapp.com/api/auth/register\", credentials)\n      .then(res => {\n        dispatch({ type: SIGNUP_SUCCESS, payload: res.data })\n        localStorage.setItem(\"token\", res.data.token);\n        localStorage.setItem(\"user_id\", res.data.new_user.id);\n      })\n      .catch(err =>{\n        dispatch({ type: SIGNUP_ERROR, payload: err.error })\n      })\n  }\n}"]},"metadata":{},"sourceType":"module"}